<link rel="stylesheet" type="text/css" href="{{{assetPath}}}stylesheets/ol.css">
<link rel="stylesheet" type="text/css" href="{{{assetPath}}}stylesheets/confirm-location/index.css">
<main id="confirm-location-page">
  <h1 class="heading-xlarge">Confirm your development's location</h1>
  {{> nojs}}
  {{> ie}}
  <div class="grid-row main-container nojs-hide ie-hide">
    <div class="column-half confirm-column">
      <div class="inset">
        <div class="info">
          <div class="point-info">
            <p>
              Show the location of your development on the map.
              You can do this by moving the marker to, for example, the centre of your development.
            </p>
            <p>Select ‘Continue’ to get a flood risk report for this specific point.</p>
            <div class="form-group">
              <a href="/summary?easting={{easting}}&northing={{northing}}" class="button button-get-started continue" title="Continue">Continue</a>
            </div>
            Alternatively you can <a href="#polygon" class="toggle">get a flood risk report for a defined area</a>, for example the shape of your whole development.
          </div>
          <div class="polygon-info">
            <p>You can get a flood risk report for your development by drawing its boundary on the map.</p>
            <p>Draw a site boundary::</p>
            <ol class="list list-number">
              <li>Select ‘Start drawing’</li>
              <li>Select any point on your site’s boundary</li>
              <li>Select a second point on the boundary. You should see a line drawn between the first 2 points</li>
              <li>Keep adding points until the boundary is defined</li>
              <li>Double click or tap when you return to your first point</li>
            </ol>
            <details>
              <summary aria-controls="polygon-tool" aria-expanded="false" role="button">
                <span class="summary">More about the boundary drawing tool</span>
              </summary>
              <div id="polygon-tool" class="panel panel-border-narrow" aria-hidden="true">
                You can:
                <ul class="list list-bullet">
                  <li>edit the finished shape by dragging the points in any direction</li>
                  <li>add more points to a finished shape</li>
                  <li>go back a step or forward a step as you draw, using the arrows at the top of the map</li>
                  <li>delete your drawing</li>
                </ul>
              </div>
            </details>
            <p>Select ‘Continue’ to get a flood risk report for this area.</p>
            <p>If your site crosses more than one flood risk zone, the report will show the highest flood risk zone.</p>
            <div class="form-group">
              <a href="/summary?easting={{easting}}&northing={{northing}}" class="button button-get-started continue" title="Continue">Continue</a>
            </div>
            <p>Alternatively you can <a href="#point" class="toggle">get a flood risk report for a specific point</a>, for example the centre of your development.</p>
          </div>
        </div>
      </div>
    </div>
    <div class="column-half map-column">
      <div class="map-container">
        <div id="map" class="map"></div>
        <div class="enter-fullscreen toggle-fullscreen ol-full-screen ol-control hidden-mobile">
          <button class="ol-full-screen-false" type="button" title="Full screen"><span>Full screen</span> <i class="fa fa-enlarge2"></i></button>
        </div>
        <div class="exit-fullscreen toggle-fullscreen ol-full-screen ol-control hidden-mobile">
          <button class="ol-full-screen-true" type="button" title="Exit full screen"><span>Exit full screen</span> <i class="fa fa-compress"></i></button>
        </div>
      </div>
    </div>
  </div>
</main>
<script src="{{{assetPath}}}javascripts/confirm-location.js"></script>
<script>
  $(function () {
    var data = {{#if polygon}}{{polygon}}{{else}}null{{/if}}
    ;(new FMP.ConfirmLocationPage({
      easting: '{{easting}}',
      northing: '{{northing}}',
      polygon: data
    }))
  })
</script>
