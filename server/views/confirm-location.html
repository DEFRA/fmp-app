<link rel="stylesheet" type="text/css" href="{{{assetPath}}}stylesheets/ol.css">
<link rel="stylesheet" type="text/css" href="{{{assetPath}}}stylesheets/confirm-location/index.css">
<main id="confirm-location-page">
  <h1 class="heading-xlarge">Confirm your development's location</h1>
  {{> nojs}}
  {{> ie}}
  <p class="info text">
    Move the marker <img class="marker-indicator" src="/public/images/pin.png"> on the map to identify the site centre.<br>
    Alternatively draw a shape to identify the site boundary.
  </p>
  <details>
    <summary aria-controls="polygon-tool" aria-expanded="false" role="button">
      <span class="summary">How to draw a shape</span>
    </summary>
    <div id="polygon-tool" class="panel panel-border-narrow" aria-hidden="true">
      <ul class="list list-bullet">
        <li>Select 'Draw shape'</li>
        <li>Select any point on your siteâ€™s boundary</li>
        <li>Select a second point on the boundary. You should see a line drawn between the first 2 points</li>
        <li>Keep adding points until the boundary is defined</li>
        <li>Double click or tap when you return to your first point</li>
        <li>Edit the finished shape by dragging the points in any direction</li>
        <li>Add more points to a finished shape</li>
      </ul>
    </div>
  </details>
  <div class="main-container nojs-hide ie-hide">
    <div class="map-container">
      <div class="radio-button-group">
        <input type="radio" class="radio-button" name="type" value="marker" id="marker" {{#unless polygon}}checked{{/unless}}>
        <label for="marker">Move marker</label>
        <input type="radio" class="radio-button" name="type" value="polygon" id="polygon" {{#if polygon}}checked{{/if}}>
        <label for="polygon">Draw shape</label>
      </div>
      <div id="map" class="map"></div>
      <div class="enter-fullscreen toggle-fullscreen ol-full-screen ol-control">
        <button class="ol-full-screen-false" type="button" title="Full screen"><span>Full screen</span> <i class="fa fa-enlarge2"></i></button>
      </div>
      <div class="exit-fullscreen toggle-fullscreen ol-full-screen ol-control">
        <button class="ol-full-screen-true" type="button" title="Exit full screen"><span>Exit full screen</span> <i class="fa fa-compress"></i></button>
      </div>
    </div>
  </div>
  <br>
  <a href="/summary?easting={{easting}}&northing={{northing}}" class="button continue" title="Continue">Continue</a>
</main>
<script src="{{{assetPath}}}javascripts/confirm-location.js"></script>
<script>
  $(function () {
    var data = {{#if polygon}}{{polygon}}{{else}}null{{/if}}
    ;(new FMP.ConfirmLocationPage({
      easting: '{{easting}}',
      northing: '{{northing}}',
      polygon: data
    }))
  })
</script>
